import React, { useState, useEffect } from 'react';
import { Globe, Clock, CheckCircle, Lock, Info, ChevronRight, BarChart3, ShieldCheck } from 'lucide-react';

/**
 * Êï∞ÊçÆÁªìÊûÑÈÖçÁΩÆ (Data Configuration)
 * ‰∏•Ê†ºÂØπÂ∫î Prompt ‰∏≠ÁöÑÊñáÊ°àÔºå‰æø‰∫éÁÆ°ÁêÜÂíåÊõøÊç¢
 */
const content = {
  CN: {
    nav: { toggle: 'English' },
    hero: {
      title: 'Â≠¶ÁîüÂøÉÁêÜ‰∏éÂèëÂ±ïÊµãËØÑÂπ≥Âè∞',
      subtitle: 'Èù¢ÂêëÂõΩÈôÖÂ≠¶Ê†°ÁöÑ‰∏ÄÁ´ôÂºèÊµãËØÑÈÖçÁΩÆÁ≥ªÁªü\nÊîØÊåÅÂøÉÁêÜÂÅ•Â∫∑„ÄÅË°å‰∏∫ÈÄÇÂ∫î‰∏é‰∏™‰ΩìÂèëÂ±ïËØÑ‰º∞',
      ctaPrimary: 'ÂºÄÂßãÈÖçÁΩÆÊµãËØÑ',
      ctaSecondary: 'Êü•ÁúãÊµãËØÑÁªìÊûÑ',
    },
    cards: {
      c1: {
        title: 'ÂøÉÁêÜÂÅ•Â∫∑',
        tag: 'Â≠¶Ê†°ÂøÖÊµã',
        desc: 'Â≠¶ÁîüÊÉÖÁª™Áä∂ÊÄÅ‰∏éÂøÉÁêÜÈ£éÈô©ÁöÑÊó©ÊúüÁ≠õÊü•',
        items: ['ÂéãÂäõÈáèË°®', 'ÁÑ¶ËôëÈáèË°®', 'ÊäëÈÉÅÈáèË°®'],
        time: 'Á∫¶ 15 ÂàÜÈíü',
        action: 'Êü•ÁúãÈáèË°®ËØ¥Êòé',
      },
      c2: {
        title: 'Ë°å‰∏∫ÂíåÈÄÇÂ∫î',
        tag: 'Â≠¶Ê†°ÂøÖÊµã',
        desc: 'Â≠¶‰π†Ë°å‰∏∫„ÄÅÊ≥®ÊÑèÂäõ‰∏éÈÄÇÂ∫îÊÉÖÂÜµÁêÜËß£',
        items: ['ADHD Ë°å‰∏∫ÁâπÂæÅ', 'ÂéåÂ≠¶ / Â≠¶‰π†ÂõûÈÅø'],
        time: 'Á∫¶ 10 ÂàÜÈíü',
        action: 'Êü•ÁúãÈáèË°®ËØ¥Êòé',
      },
      c3: {
        title: '‰∏™‰ΩìÂèëÂ±ï',
        tag: 'ÂèØÈÄâ',
        desc: 'ÁêÜËß£Â≠¶Áîü‰∏™‰ΩìÂ∑ÆÂºÇ‰∏éÂèëÂ±ïÊΩúËÉΩ',
        items: ['‰∫∫Ê†ºÁâπË¥®', 'Â§öÁª¥Êô∫ÊÖß‰∏éÊô∫Âäõ', 'ÊÉÖÁª™ÂèëÂ±ï (ÊÉÖÁª™ÁÆ°ÁêÜ/ÂêåÁêÜÂøÉ)'],
        timeAdd: 'È¢ÑËÆ°Â¢ûÂä†Ôºö5‚Äì10 ÂàÜÈíü',
        action: 'ÂãæÈÄâÈÖçÁΩÆ',
        actionActive: 'Â∑≤ÂåÖÂê´',
      },
    },
    summary: {
      title: 'Â∑≤ÈÄâÊã©ÊµãËØÑÁªÑÂêà',
      item1: 'ÂøÉÁêÜÂÅ•Â∫∑ (3)',
      item2: 'Ë°å‰∏∫ÂíåÈÄÇÂ∫î (2)',
      item3: '‰∏™‰ΩìÂèëÂ±ï',
      totalTimeLabel: 'ÊÄªÁî®Êó∂',
      loadLabel: 'Â≠¶ÁîüÂÆåÊàêË¥üÊãÖ',
      loadValue: '‰∏≠',
      cta: '‰∏ã‰∏ÄÊ≠•ÔºöÊé®ÈÄÅÈÖçÁΩÆ',
    },
    footer: {
      text1: 'Êú¨ÊµãËØÑÁî®‰∫éÂ≠¶Ê†°ÊîØÊåÅ‰∏éÂèëÂ±ïÁõÆÁöÑÔºå‰∏çÁî®‰∫éÂåªÂ≠¶Êàñ‰∏¥Â∫äËØäÊñ≠„ÄÇ',
      text2: 'ÁªìÊûú‰ª•ÂàÜÁ∫ßÊàñÊ±áÊÄªÂΩ¢ÂºèÂëàÁé∞Ôºå‰øùÈöúÂ≠¶ÁîüÈöêÁßÅ„ÄÇ',
    },
  },
  EN: {
    nav: { toggle: '‰∏≠Êñá' },
    hero: {
      title: 'Student Wellbeing & Development Assessment Platform',
      subtitle: 'A school-friendly assessment system designed for international schools,\nsupporting wellbeing, learning adaptation, and individual development.',
      ctaPrimary: 'Configure Assessments',
      ctaSecondary: 'View Assessment Structure',
    },
    cards: {
      c1: {
        title: 'Mental Wellbeing',
        tag: 'Required',
        desc: 'Early screening of emotional wellbeing',
        items: ['Stress', 'Anxiety', 'Mood & Emotional Health'],
        time: 'Estimated time: ~15 mins',
        action: 'View details',
      },
      c2: {
        title: 'Behaviour & Adaptation',
        tag: 'Required',
        desc: 'Understanding learning and behavioural patterns',
        items: ['Attention & Focus (ADHD-related traits)', 'School Avoidance / Engagement'],
        time: 'Estimated time: ~10 mins',
        action: 'View details',
      },
      c3: {
        title: 'Individual Development',
        tag: 'Optional',
        desc: 'Understanding individual differences and strengths',
        items: ['Personality Traits', 'Multiple Intelligences', 'Emotional Development (Regulation/Empathy)'],
        timeAdd: 'Additional time: ~5‚Äì10 mins',
        action: 'Select assessments',
        actionActive: 'Selected',
      },
    },
    summary: {
      title: 'Selected Assessment Package',
      item1: 'Mental Wellbeing (3)',
      item2: 'Behaviour & Adaptation (2)',
      item3: 'Individual Development',
      totalTimeLabel: 'Total time',
      loadLabel: 'Student load',
      loadValue: 'Moderate',
      cta: 'Continue to Deployment',
    },
    footer: {
      text1: 'All assessments are designed for educational support purposes only. Results are not used for medical or clinical diagnosis.',
      text2: 'Reports are generated in aggregated or risk-level formats to protect student privacy.',
    },
  },
};

const LandingPage = () => {
  const [lang, setLang] = useState('CN'); // Language State: 'CN' | 'EN'
  const [optionalSelected, setOptionalSelected] = useState(false); // Card 3 State
  const t = content[lang]; // Current text content

  // Âä®ÊÄÅËÆ°ÁÆóÊÄªÊó∂Èïø (Dynamic Time Calculation)
  // Base time: 15 (Card1) + 10 (Card2) = 25 mins
  const baseTime = 25;
  const optionalTime = 10;
  const totalTime = optionalSelected ? baseTime + optionalTime : baseTime;

  const toggleLanguage = () => {
    setLang((prev) => (prev === 'CN' ? 'EN' : 'CN'));
  };

  return (
    <div className="min-h-screen bg-gray-50 font-sans text-gray-900">
      
      {/* ==================== Navigation (Toggle) ==================== */}
      <nav className="fixed top-0 w-full bg-white/90 backdrop-blur-md border-b border-gray-200 z-50 h-16 flex items-center justify-between px-6 lg:px-12">
        <div className="text-xl font-bold tracking-tight text-indigo-900 flex items-center gap-2">
           <div className="w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-white font-serif">A</div>
           <span>AI¬≤ Assessment</span>
        </div>
        <button 
          onClick={toggleLanguage}
          className="flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 hover:text-indigo-600 hover:bg-indigo-50 rounded-full transition-colors"
        >
          <Globe size={16} />
          {t.nav.toggle}
        </button>
      </nav>

      <main className="pt-24 pb-20 max-w-[1280px] mx-auto px-6 lg:px-12">
        
        {/* ==================== A. Hero Section ==================== */}
        <section className="text-center py-16 lg:py-24 space-y-8">
          <h1 className="text-4xl lg:text-5xl font-extrabold text-slate-900 leading-tight">
            {t.hero.title}
          </h1>
          <p className="text-xl text-slate-500 whitespace-pre-line max-w-3xl mx-auto leading-relaxed">
            {t.hero.subtitle}
          </p>
          <div className="flex flex-col sm:flex-row justify-center gap-4 pt-4">
            <button className="px-8 py-4 bg-indigo-600 text-white text-lg font-semibold rounded-xl shadow-lg hover:bg-indigo-700 hover:shadow-indigo-200 hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2">
              {t.hero.ctaPrimary} <ChevronRight size={20}/>
            </button>
            <button className="px-8 py-4 bg-white text-slate-700 border border-slate-200 text-lg font-semibold rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all">
              {t.hero.ctaSecondary}
            </button>
          </div>
        </section>

        {/* ==================== Grid Layout (Cards + Sticky) ==================== */}
        <div className="grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12 items-start">
          
          {/* ==================== B. Assessment Categories (Left Col 8) ==================== */}
          <div className="lg:col-span-8 space-y-6">
            
            {/* üü¶ Card 1: Mental Wellbeing (Required) */}
            <div className="group relative bg-white border border-slate-200 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow border-l-8 border-l-blue-500">
              <div className="flex justify-between items-start mb-4">
                <div>
                  <h3 className="text-2xl font-bold text-slate-800 flex items-center gap-2">
                    {t.cards.c1.title}
                  </h3>
                  <p className="text-slate-500 mt-1">{t.cards.c1.desc}</p>
                </div>
                <span className="flex items-center gap-1.5 bg-slate-100 text-slate-600 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide">
                  <Lock size={12} /> {t.cards.c1.tag}
                </span>
              </div>
              
              <div className="my-6 border-t border-slate-100 pt-4">
                <ul className="space-y-2">
                  {t.cards.c1.items.map((item, idx) => (
                    <li key={idx} className="flex items-center text-slate-700 font-medium">
                      <span className="w-1.5 h-1.5 bg-blue-500 rounded-full mr-3"></span>
                      {item}
                    </li>
                  ))}
                </ul>
              </div>

              <div className="flex items-center justify-between mt-6 pt-4 text-sm">
                <div className="flex items-center text-slate-400">
                   <Clock size={16} className="mr-2"/> {t.cards.c1.time}
                </div>
                <button className="text-blue-600 font-semibold hover:underline flex items-center">
                  {t.cards.c1.action}
                </button>
              </div>
            </div>

            {/* üüß Card 2: Behaviour (Required) */}
            <div className="group relative bg-white border border-slate-200 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow border-l-8 border-l-orange-500">
               <div className="flex justify-between items-start mb-4">
                <div>
                  <h3 className="text-2xl font-bold text-slate-800 flex items-center gap-2">
                    {t.cards.c2.title}
                  </h3>
                  <p className="text-slate-500 mt-1">{t.cards.c2.desc}</p>
                </div>
                <span className="flex items-center gap-1.5 bg-slate-100 text-slate-600 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide">
                  <Lock size={12} /> {t.cards.c2.tag}
                </span>
              </div>
              
              <div className="my-6 border-t border-slate-100 pt-4">
                <ul className="space-y-2">
                  {t.cards.c2.items.map((item, idx) => (
                    <li key={idx} className="flex items-center text-slate-700 font-medium">
                      <span className="w-1.5 h-1.5 bg-orange-500 rounded-full mr-3"></span>
                      {item}
                    </li>
                  ))}
                </ul>
              </div>

              <div className="flex items-center justify-between mt-6 pt-4 text-sm">
                <div className="flex items-center text-slate-400">
                   <Clock size={16} className="mr-2"/> {t.cards.c2.time}
                </div>
                <button className="text-orange-600 font-semibold hover:underline flex items-center">
                  {t.cards.c2.action}
                </button>
              </div>
            </div>

            {/* üü© Card 3: Individual Development (Optional) */}
            {/* ‰∫§‰∫íÈÄªËæëÔºöÁÇπÂáªÊï¥‰ΩìÊàñÊåâÈíÆÂàáÊç¢ÈÄâ‰∏≠Áä∂ÊÄÅ */}
            <div 
              onClick={() => setOptionalSelected(!optionalSelected)}
              className={`cursor-pointer group relative bg-white border rounded-2xl p-6 shadow-sm hover:shadow-md transition-all border-l-8 
                ${optionalSelected ? 'border-emerald-500 border-gray-200 ring-2 ring-emerald-500 ring-offset-2' : 'border-l-emerald-500 border-gray-200 hover:border-emerald-200'}`}
            >
              <div className="flex justify-between items-start mb-4">
                <div>
                  <h3 className="text-2xl font-bold text-slate-800 flex items-center gap-2">
                    {t.cards.c3.title}
                  </h3>
                  <p className="text-slate-500 mt-1">{t.cards.c3.desc}</p>
                </div>
                <span className={`flex items-center gap-1.5 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide transition-colors
                  ${optionalSelected ? 'bg-emerald-100 text-emerald-700' : 'bg-slate-100 text-slate-500'}`}>
                  {optionalSelected ? <CheckCircle size={12}/> : <div className="w-3 h-3 border-2 border-slate-400 rounded-sm"></div>}
                  {t.cards.c3.tag}
                </span>
              </div>
              
              <div className="my-6 border-t border-slate-100 pt-4">
                <ul className="space-y-2">
                  {t.cards.c3.items.map((item, idx) => (
                    <li key={idx} className="flex items-center text-slate-700 font-medium">
                      <span className={`w-1.5 h-1.5 rounded-full mr-3 ${optionalSelected ? 'bg-emerald-500' : 'bg-slate-300'}`}></span>
                      {item}
                    </li>
                  ))}
                </ul>
              </div>

              <div className="flex items-center justify-between mt-6 pt-4 text-sm">
                <div className={`flex items-center transition-colors ${optionalSelected ? 'text-emerald-700 font-medium' : 'text-slate-400'}`}>
                   <Clock size={16} className="mr-2"/> {t.cards.c3.timeAdd}
                </div>
                <button className={`px-4 py-2 rounded-lg font-semibold text-sm transition-all
                  ${optionalSelected 
                    ? 'bg-emerald-100 text-emerald-800 hover:bg-emerald-200' 
                    : 'bg-white border border-slate-200 text-slate-600 hover:border-emerald-500 hover:text-emerald-600'}`}>
                  {optionalSelected ? t.cards.c3.actionActive : t.cards.c3.action}
                </button>
              </div>
            </div>

          </div>

          {/* ==================== C. Summary (Sticky Right Col 4) ==================== */}
          <div className="lg:col-span-4 sticky top-24">
            <div className="bg-slate-900 text-white rounded-2xl p-6 shadow-2xl">
              <h4 className="text-lg font-bold border-b border-slate-700 pb-4 mb-4">
                {t.summary.title}
              </h4>
              
              <ul className="space-y-3 mb-8">
                {/* ÂøÖÈÄâÈ°πÁõÆ */}
                <li className="flex items-center text-slate-300">
                  <CheckCircle size={18} className="text-blue-400 mr-3 shrink-0"/>
                  {t.summary.item1}
                </li>
                <li className="flex items-center text-slate-300">
                  <CheckCircle size={18} className="text-orange-400 mr-3 shrink-0"/>
                  {t.summary.item2}
                </li>
                
                {/* ÂèØÈÄâÈ°πÁõÆ (Âä®ÊÄÅÊòæÁ§∫) */}
                <li className={`flex items-center transition-all duration-300 ${optionalSelected ? 'text-emerald-300 translate-x-0 opacity-100' : 'text-slate-700 translate-x-2 opacity-50'}`}>
                  {optionalSelected 
                    ? <CheckCircle size={18} className="text-emerald-400 mr-3 shrink-0"/> 
                    : <div className="w-[18px] h-[18px] border-2 border-slate-700 rounded-full mr-3 shrink-0 border-dashed"></div>}
                  {t.summary.item3}
                </li>
              </ul>

              <div className="bg-slate-800 rounded-xl p-4 mb-6 space-y-2">
                <div className="flex justify-between items-center">
                  <span className="text-slate-400 text-sm">{t.summary.totalTimeLabel}</span>
                  <span className="text-xl font-bold text-white">~{totalTime} min</span>
                </div>
                <div className="flex justify-between items-center">
                   <span className="text-slate-400 text-sm">{t.summary.loadLabel}</span>
                   <span className={`text-sm font-bold px-2 py-0.5 rounded ${optionalSelected ? 'bg-yellow-500/20 text-yellow-300' : 'bg-green-500/20 text-green-300'}`}>
                     {t.summary.loadValue}
                   </span>
                </div>
              </div>

              <button className="w-full py-3 bg-white text-indigo-900 font-bold rounded-lg hover:bg-indigo-50 transition-colors flex justify-center items-center gap-2">
                {t.summary.cta} <BarChart3 size={18} />
              </button>
            </div>

            {/* ==================== D. Ethics Statement ==================== */}
            <div className="mt-6 p-4 bg-slate-50 rounded-xl border border-slate-200 text-xs text-slate-500 leading-relaxed">
              <div className="flex items-start gap-2 mb-2 text-slate-800 font-semibold">
                <ShieldCheck size={14} className="mt-0.5"/>
                <span>Data Privacy & Ethics</span>
              </div>
              <p>{t.footer.text1}</p>
              <p className="mt-2">{t.footer.text2}</p>
            </div>
          </div>

        </div>
      </main>
    </div>
  );
};

export default LandingPage;
